<script lang="ts">
	import type { PageData } from './$types';
	import CrudPage from '$lib/components/CrudPage.svelte';

	export let data: PageData;

	const fields = [
		{ key: 'nom', label: 'Nom', type: 'text', required: true },
		{ key: 'code', label: 'Code', type: 'text', required: true },
		{ key: 'adresse', label: 'Adresse', type: 'text' },
		{ key: 'statut', label: 'Statut', type: 'text' },
		{ key: 'surface', label: 'Surface', type: 'text' },
		{ key: 'collaborateurs', label: 'Collaborateurs', type: 'text' },
		{
			key: 'statut_operationnel',
			label: 'Statut op√©rationnel',
			type: 'select',
			options: [
				{ value: 'actif', label: 'Actif' },
				{ value: 'inactif', label: 'Inactif' }
			],
			required: true
		},
		{
			key: 'activites',
			label: 'Activit√©s',
			type: 'tags',
			placeholder: 'Ajouter une activit√©...'
		},
		{
			key: 'equipements',
			label: '√âquipements',
			type: 'tags',
			placeholder: 'Ajouter un √©quipement...'
		},
		{
			key: 'risques',
			label: 'Risques',
			type: 'tags',
			placeholder: 'Ajouter un risque...'
		}
	];

	const displayFields = ['nom', 'code', 'statut', 'statut_operationnel', 'activites'];
</script>

<CrudPage
	data={data.etablissements}
	entityType="etablissements"
	entityLabel="√âtablissements"
	entityIcon="üè¢"
	{fields}
	{displayFields}
/>
